<Window x:Class="QuizApp.View.GameView"
		xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
		xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		xmlns:local="clr-namespace:QuizApp.View"
		mc:Ignorable="d"
		Title="GameView" Height="300" Width="300"
		DataContext="{Binding Game, Source={StaticResource Locator}}">
	<Window.Resources>
		<DataTemplate x:Key="AnswerListTemplate">
			<Button Content="{Binding AnswerText}" 
					Command="{Binding Game.SelectAnswerCommand, Source={StaticResource Locator}}"
					CommandParameter="{Binding}"
					Margin="8" FontSize="13.333"
					Padding="8"/>
		</DataTemplate>
	</Window.Resources>
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="30"/>
			<RowDefinition Height="60"/>
			<RowDefinition Height="*"/>
		</Grid.RowDefinitions>

		<Border Padding="8" BorderBrush="{DynamicResource {x:Static SystemColors.ControlLightBrushKey}}" BorderThickness="0,0,0,1">
			<Grid>                
				<StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
					<Label Content="Quiz: " Margin="0" Padding="0" FontSize="9.333" Foreground="{DynamicResource {x:Static SystemColors.ControlDarkDarkBrushKey}}" />
					<Label Content="{Binding Quiz.Name}" Margin="0" Padding="0" FontSize="9.333" Foreground="{DynamicResource {x:Static SystemColors.ControlDarkDarkBrushKey}}"/>
				</StackPanel>
				<StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
					<Label Content="Vraag " Margin="0" Padding="0" FontSize="9.333" Foreground="{DynamicResource {x:Static SystemColors.ControlDarkDarkBrushKey}}" />
					<Label Content="{Binding CurrentQuestionCount}" Margin="0" Padding="0" FontSize="9.333" Foreground="{DynamicResource {x:Static SystemColors.ControlDarkDarkBrushKey}}"/>
					<Label Content="/" Margin="0" Padding="0" FontSize="9.333" Foreground="{DynamicResource {x:Static SystemColors.ControlDarkDarkBrushKey}}" />
					<Label Content="{Binding TotalQuestions}" Margin="0" Padding="0" FontSize="9.333" Foreground="{DynamicResource {x:Static SystemColors.ControlDarkDarkBrushKey}}"/>
				</StackPanel>
			</Grid>
		</Border>
		
		<Border BorderBrush="{DynamicResource {x:Static SystemColors.ControlDarkBrushKey}}" BorderThickness="0,0,0,1" Grid.Row="1">
			<TextBlock Text="{Binding CurrentQuestion.Text}"
				HorizontalAlignment="Center" 
				VerticalAlignment="Center" Padding="8" FontSize="14.667" TextWrapping="Wrap"/>
		</Border>

		<Grid Grid.Row="2" Background="{DynamicResource {x:Static SystemColors.ControlBrushKey}}">
			<ScrollViewer VerticalScrollBarVisibility="Auto">
				<ItemsControl
					  ItemTemplate="{StaticResource AnswerListTemplate}"
					  Background="{x:Null}" 
					  BorderThickness="0" 
					  ItemsSource="{Binding CurrentQuestion.Answers}"/>
			</ScrollViewer>
		</Grid>

		<Grid Visibility="{Binding LoadingVisibility, FallbackValue=Hidden}" Background="#BF000000" Grid.RowSpan="3">
			<StackPanel VerticalAlignment="Center" Margin="8">
				<Label Content="Even geduld..." Foreground="White" HorizontalAlignment="Center" FontSize="13.333" FontWeight="Bold"/>
				<ProgressBar IsIndeterminate="True"  MinHeight="20"/>
			</StackPanel>
		</Grid>

		<Grid Visibility="{Binding DoneVisibility, FallbackValue=Hidden}"  Grid.RowSpan="3" Background="{DynamicResource {x:Static SystemColors.ControlLightLightBrushKey}}">
			<StackPanel  HorizontalAlignment="Center" VerticalAlignment="Center">
				<Label Content="{Binding Quiz.Name}" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" FontSize="16" FontWeight="Bold"/>
				<StackPanel Orientation="Horizontal">
					<Label Content="Aantal vragen goed: "/>
					<Label Content="{Binding CorrectCount}"/>
				</StackPanel>
				<StackPanel Orientation="Horizontal">
					<Label Content="Aantal vragen fout: "/>
					<Label Content="{Binding IncorrectCount}"/>
				</StackPanel>
			</StackPanel>
			
		</Grid>
	</Grid>
</Window>
